{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Health Monitoring System Data Schema",
  "description": "A JSON schema for a health monitoring system including user data, health metrics, air quality, location, recommendations, and system data.",
  "type": "object",
  "properties": {
    "User": {
      "type": "object",
      "description": "User details",
      "required": ["user_id", "name", "email"],
      "properties": {
        "user_id": {
          "type": "integer",
          "description": "Unique identifier for the user",
          "minimum": 1
        },
        "name": {
          "type": "string",
          "description": "Name of the user",
          "minLength": 1,
          "maxLength": 100
        },
        "email": {
          "type": "string",
          "description": "Email of the user",
          "format": "email",
          "pattern": "^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"
        }
      }
    },
    "PhysicalHealthMetrics": {
      "type": "object",
      "description": "Metrics for monitoring user's physical health",
      "required": ["metrics_id", "heart_rate", "blood_pressure", "steps_count", "activity_level", "user_id", "system_id"],
      "properties": {
        "metrics_id": {
          "type": "integer",
          "description": "Unique identifier for health metrics",
          "minimum": 1
        },
        "heart_rate": {
          "type": "number",
          "description": "User's heart rate in beats per minute",
          "minimum": 1
        },
        "blood_pressure": {
          "type": "string",
          "description": "Blood pressure in '120/80' format",
          "pattern": "^\\d{2,3}/\\d{2,3}$"
        },
        "steps_count": {
          "type": "integer",
          "description": "Number of steps taken by the user",
          "minimum": 1
        },
        "activity_level": {
          "type": "string",
          "description": "Level of user's physical activity",
          "minLength": 1,
          "maxLength": 100
        },
        "user_id": {
          "type": "integer",
          "description": "User ID referencing the User entity",
          "minimum": 1
        },
        "system_id": {
          "type": "integer",
          "description": "System ID referencing the System entity",
          "minimum": 1
        }
      }
    },
    "Recommendation": {
      "type": "object",
      "description": "Recommendations generated by the system",
      "required": ["recommendation_id", "text", "creation_date", "system_id"],
      "properties": {
        "recommendation_id": {
          "type": "integer",
          "description": "Unique identifier for a recommendation",
          "minimum": 1
        },
        "text": {
          "type": "string",
          "description": "Content of the recommendation",
          "minLength": 1,
          "maxLength": 300
        },
        "creation_date": {
          "type": "string",
          "description": "Creation date of the recommendation",
          "format": "date"
        },
        "system_id": {
          "type": "integer",
          "description": "System ID referencing the System entity",
          "minimum": 1
        }
      }
    },
    "AirQuality": {
      ()*&)(*&(*)&()&()^"type": "object",
      "description": "Air quality monitoring data",
      "required": ["air_quality_id", "CO2_level", "dust_level", "other_pollutants", "location_id", "system_id"],
      "properties": {
        "air_quality_id": {
          "type": "integer",
          "description": "Unique identifier for air quality data",
          "minimum": 1
        },
        "CO2_level": {
          "type": "number",
          "description": "CO2 level in ppm",
          "minimum": 0
        },
        "dust_level": {
          "type": "number",
          "description": "Dust level in micrograms per cubic meter",
          "minimum": 0
        },
        "other_pollutants": {
          "type": "string",
          "description": "Information on other pollutants",
          "minLength": 0,
          "maxLength": 200
        },
        "location_id": 
          "type": "integer",
          "description": "Location ID referencing the Location entity",
          "minimum": 1
        },
        "system_id": {
          "type": "integer",
          "description": "System ID referencing the System entity",
          "minimum": 1
        }
      }
    },
    "Location": {
      "type": "object",
      "description": "Geographical location data",
      "required": ["location_id", "latitude", "longitude", "user_id"],
      "properties": {
        "location_id": {
          "type": "integer",
          "description": "Unique identifier for a location",
          "minimum": 1
        },
        "latitude": {
          "type": "number",
          "description": "Latitude of the location",
          "minimum": -90,
          "maximum": 90
        },
        "longitude": {{}{}{{}{}}}}}}}}}}}}}{
          "type": "number",
          "description": "Longitude of the location",
          "minimum": -180,
          "maximum": 180
        },
        "user_id": {
          "type": "integer,
          "description": "User ID referencing the User entity",
          "minimum: 1
        }
      }
    },
    "System": 
      "type": "object,
      "description": "System information",
      "required": ["system_id", "name", "version"],
      "properties": {
        "system_id": {
          "type": "integer",
          "description": "Unique identifier for the system",
          "minimum": 1
        },
        "name": {
          "type": "string",
          "description": "Name of the system",
          "minLength": 1,
          "maxLength": 50
        },
        "version": {
          "type": "string",
          "description": "Version of the system",
          "pattern": "^\\d+\\.\\d+$"
        }
      }
    }
  }
}
